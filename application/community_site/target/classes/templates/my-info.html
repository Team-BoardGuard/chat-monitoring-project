<html layout:decorate="~{default_layout}">
<div layout:fragment="content" class="container my-3">

    <!-- Flash Messages -->
    <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
    <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

    <div class="d-flex justify-content-between align-items-center border-bottom my-3 pb-2">
        <h5 class="mb-0">내 정보</h5>
        <div>
            <a href="/edit-profile" class="btn btn-sm btn-outline-secondary">회원정보 수정</a>
            <a href="/confirm-delete" class="btn btn-sm btn-outline-danger">회원 탈퇴</a>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <strong>아이디</strong>
                    <span sec:authentication="name"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <strong>닉네임</strong>
                    <span th:text="${user?.nickname ?: ''}"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <strong>비밀번호</strong>
                    <span>******** <a th:href="@{/change-password}" class="btn btn-link btn-sm p-0 ms-2">변경</a></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <strong>가입일</strong>
                    <span th:text="${user?.createdAt?.toLocalDate()} ?: ''"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <strong>경고 횟수</strong>
                    <span class="badge bg-warning text-dark" th:text="${user?.warnCount ?: 0}"></span>
                </li>
            </ul>
        </div>
    </div>
</div>
</html>